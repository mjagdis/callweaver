.TH SAFE_CALLWEAVER 8 "Jun 30th, 2005" "CallWeaver" "Linux Programmer's Manual"
.SH NAME
.B safe_openpbx
\(em A wrapper to run the openpbx executable in a loop
.SH SYNOPSIS
.PP 
.B safe_openpbx
.I [ openpbx_params ]

.SH DESCRIPTION
.B safe_openpbx 
is a script that runs openpbx in a loop, which can be useful if you 
fear openpbx may crash.

The script does not run in the background like a standard service. Rather, 
it runs in its own linux virtual console (9, by default).
It also uses the option '-c' of openpbx(8) to avoid detaching openpbx 
from that terminal.

safe_openpbx also runs openpbx with unlimited core file size, and thus 
openpbx will dump core in case of a crash.

To get a "picture" of console 9, from another terminal (e.g: from a 
remote shell session) you can use:

  screendump 9

The init script of the Debian package should be able to run safe_openpbx 
as the openpbx service, if so configured. See coments in 
/etc/default/openpbx

.SH FILES
.B /tmp
.RS
safe_openpbx runs in that directory, rather than in / as usual.
.RE

.B /tmp/core
.RS
If core files were generated there, they may be 
.RE

.SH BUGS
While showing the output on a console is useful, using screen(1) as 
the terminal may be better.

The script does not read configuration from standard location under /etc

It uses fixed locations under /tmp , and thus may be exposed to a 
symlink attacks.

.SH SEE ALSO
openpbx(8), screendump(9)

.SH "AUTHOR" 
This manual page was written by Tzafrir Cohen <tzafrir.cohen@xorcom.com> 
Permission is granted to copy, distribute and/or modify this document under 
the terms of the GNU General Public License, Version 2 any  
later version published by the Free Software Foundation. 

On Debian systems, the complete text of the GNU General Public 
License can be found in /usr/share/common-licenses/GPL. 
